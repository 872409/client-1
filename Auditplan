Litebot disable hej

Different scheduling on mobile?

be careful, what if you're not in team anymore? then can't load but OK...
Or what if you are but server lies to you. Ok, *EVERY* time we do a load
 we need to cache that we've accessed that team previously. Then if you get
 a fatal error you can never load that team again until Audit resolves.

 but also, every time you do a team load successfully, this needs to be injected into list of teams to retry0

Every 24 hours, *every* person will make a list of all the teams they are in.
Then, filter it.
If we had a successful audit less than 24 hours ago *and* we're on the same team generation. remove it.

// Only keep last weeks of successful logs? Always keep failed logs?

TeamID -> {
    SummaryAuditHistory: (ordered by descending ctime) []{
        AuditId, // personal uuid
        Attempts []Attempt {
            Ctime,
            Result,
            Generation,
            ExpectedSummary,
            ActualSummary,
        }
    }
}

Choose a random team from the remainder.
Do the audit, and insert it into the log.
switch result
        OkVerified -> NoOp
        OkNotAttempted -> NoOp
        FailureWillRotate -> * Ephemeral
            Rotate.
            return FailureRetryable
        FailureRetryable * Ephemeral
            nAttempts = len(History[AuditId].Attempts)
            If nAttempts >= 6
                return FailureTryAttemptsExhausted
            if nAttempts = 1
                Schedule an attempt in 10 minutes to retry
            else
                Schedule an attempt in 6 hours to retry
        FailureMaliciousServer * Permanent
            Something obvious.
            Immediately throw up a black bar. Can we have a permanent black bar?
            Do similar thing to piotr's
        FailureRetryAttemptsExhausted * Permanent
            Schedule exhausted of non obvious failures.
            If an entire schedule fails, then throw up a black bar.

Make sure we dont have multiple schedules for the same team overlapping...

Also CLI options to trigger box audits... how does that interact withs chedule? Maybe no scheduling.
